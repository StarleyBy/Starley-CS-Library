<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starley Medical Editor</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/editor.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- CodeMirror CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
<!-- CodeMirror JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/markdown/markdown.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
</head>
<body>
    <header>
        <h1>ğŸ“š Medical library</h1>
        <nav>
            <a href="index.html">Library</a>
            <a href="editor.html">Editor</a>
            <a href="mdconvert.html">MD convert</a>
        </nav>
    </header>
    <div class="editor-shell">
        <aside class="editor-toolbar">
            <div class="tool-group loader-group">
    <h4>ğŸ“‚ Load</h4>
    <select id="select-book"><option value="">Select a book...</option></select>
    <select id="select-chapter" disabled><option value="">Select a chapter...</option></select>
    
    <div style="margin-top: 10px; display: flex; gap: 5px; flex-direction: column;">
        <button id="btn-load-original" class="btn-load" style="background: #3498db;">ğŸ“„ Original</button>
        <button id="btn-load-russian" class="btn-load" style="background: #e74c3c;">ğŸ‡·ğŸ‡º Russian</button>
        <button id="btn-load-starley" class="btn-load" style="background: #27ae60;">â­ Starley</button>
    </div>
</div>

            <div class="tool-group">
    <h4>â­• Color Oval (3D Gradient)</h4>
    <div class="color-grid" id="oval-colors"></div>
</div>

            <div class="tool-group">
                <h4>ğŸ–ï¸ Marker</h4>
                <div class="color-grid" id="marker-colors"></div>
            </div>

            <div class="tool-group">
    <h4>âœ¨ Special Effects</h4>
    <button onclick="wrapInEffect('luminous-blue')" style="background: rgba(33, 150, 243, 0.2); color: #2196f3;">ğŸ’ Luminous Blue</button>
    <button onclick="wrapInEffect('luminous-green')" style="background: rgba(76, 175, 80, 0.2); color: #4caf50;">ğŸ’š Luminous Green</button>
    <button onclick="wrapInEffect('luminous-red')" style="background: rgba(244, 67, 54, 0.2); color: #f44336;">â¤ï¸ Luminous Red</button>
    <button onclick="wrapInEffect('luminous-yellow')" style="background: rgba(255, 235, 59, 0.3); color: #f57f17;">ğŸ’› Luminous Yellow</button>
    <button onclick="wrapInEffect('luminous-purple')" style="background: rgba(156, 39, 176, 0.2); color: #9c27b0;">ğŸ’œ Luminous Purple</button>
    <button onclick="wrapInEffect('cyber-neon cyber-neon-pink')" style="background: #2c3e50; color: #ff1f8f;">âš¡ Neon Pink</button>
    <button onclick="wrapInEffect('cyber-neon cyber-neon-blue')" style="background: #2c3e50; color: #00d9ff;">âš¡ Neon Blue</button>
    <button onclick="wrapInEffect('cyber-glitch')" style="background: #c0392b; color: white;">âš¡ Glitch Effect</button>
</div>

<div class="tool-group">
    <h4>ğŸ“¦ Info Boxes</h4>
    <button onclick="wrapInInfoBox('info-box')" style="background: #ffeaa7; color: #2d3436;">ğŸ“¦ Default</button>
    <button onclick="wrapInInfoBox('info-box info-box-info')" style="background: #e3f2fd; color: #1565c0;">â„¹ï¸ Info</button>
    <button onclick="wrapInInfoBox('info-box info-box-success')" style="background: #e8f5e9; color: #2e7d32;">âœ… Success</button>
    <button onclick="wrapInInfoBox('info-box info-box-warning')" style="background: #fff3cd; color: #e65100;">âš ï¸ Warning</button>
    <button onclick="wrapInInfoBox('info-box info-box-danger')" style="background: #ffebee; color: #c62828;">ğŸš¨ Danger</button>
</div>

            <div class="tool-group">
                <h4>ğŸ¨ Text Color</h4>
                <div class="color-grid" id="text-colors"></div>
            </div>

            <div class="tool-group">
    <h4>ğŸ“¦ Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğµ Ğ±Ğ»Ğ¾ĞºĞ¸</h4>
    <button onclick="insertAdmonition('note', 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ')" style="background: #e7f3ff; color: #1976d2;">â„¹ï¸ Note</button>
    <button onclick="insertAdmonition('tip', 'Ğ¡Ğ¾Ğ²ĞµÑ‚')" style="background: #e8f5e9; color: #2e7d32;">ğŸ’¡ Tip</button>
    <button onclick="insertAdmonition('info', 'Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ')" style="background: #e0f7fa; color: #00838f;">ğŸ“Œ Info</button>
    <button onclick="insertAdmonition('warning', 'ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ')" style="background: #fff3e0; color: #e65100;">âš ï¸ Warning</button>
    <button onclick="insertAdmonition('danger', 'ĞĞ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ')" style="background: #ffebee; color: #c62828;">ğŸš¨ Danger</button>
    <button onclick="insertAdmonition('caution', 'ĞÑÑ‚Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ¾')" style="background: #fffde7; color: #f57f17;">âš¡ Caution</button>
</div>

<div class="tool-group">
    <h4>ğŸ¥ ĞœĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ¸Ğµ Ğ±Ğ»Ğ¾ĞºĞ¸</h4>
    <button onclick="insertAdmonition('dosage', 'Ğ”Ğ¾Ğ·Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°')" style="background: #f3e5f5; color: #6a1b9a;">ğŸ’‰ Dosage</button>
    <button onclick="insertAdmonition('contraindication', 'ĞŸÑ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ')" style="background: #fce4ec; color: #880e4f;">ğŸš« ĞŸÑ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ</button>
    <button onclick="insertAdmonition('side-effect', 'ĞŸĞ¾Ğ±Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹')" style="background: #fff8e1; color: #e65100;">âš ï¸ ĞŸĞ¾Ğ±Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹</button>
    <button onclick="insertAdmonition('clinical', 'ĞšĞ»Ğ¸Ğ½Ğ¸ĞºĞ°')" style="background: #e0f2f1; color: #00695c;">ğŸ¥ Clinical</button>
    <button onclick="insertAdmonition('anatomy', 'ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ')" style="background: #fce4ec; color: #880e4f;">ğŸ«€ Anatomy</button>
    <button onclick="insertAdmonition('physiology', 'Ğ¤Ğ¸Ğ·Ğ¸Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ')" style="background: #e1f5fe; color: #01579b;">ğŸ§¬ Physiology</button>
    <button onclick="insertAdmonition('surgery', 'Ğ¥Ğ¸Ñ€ÑƒÑ€Ğ³Ğ¸Ñ')" style="background: #e8f5e9; color: #1b5e20;">ğŸ”ª Surgery</button>
    <button onclick="insertAdmonition('icu', 'Ğ ĞµĞ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ')" style="background: #ffebee; color: #b71c1c;">ğŸš‘ ICU</button>
    <button onclick="insertAdmonition('evidence', 'Ğ”Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ°')" style="background: #eceff1; color: #263238;">ğŸ“Š Evidence</button>
    <button onclick="insertAdmonition('protocol', 'ĞŸÑ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»')" style="background: #e8eaf6; color: #1a237e;">ğŸ“‹ Protocol</button>
</div>

            <div class="tool-group">
    <h4>ğŸ”— ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ</h4>
    <button onclick="insertLink()" title="Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑÑÑ‹Ğ»ĞºÑƒ Ğ½Ğ° Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½">ğŸ”— Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½</button>
    <button onclick="insertAnchor()" title="Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑĞºĞ¾Ñ€ÑŒ Ğ² Ğ¼ĞµÑÑ‚Ğµ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ">âš“ Ğ¯ĞºĞ¾Ñ€ÑŒ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ</button>
    <button onclick="insertBackLink()" title="Ğ£Ğ¼Ğ½Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ° - Ğ²ĞµÑ€Ğ½ĞµÑ‚ Ğº Ğ»ÑĞ±Ğ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞµ">â†©ï¸ Ğ£Ğ¼Ğ½Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ° Ğ½Ğ°Ğ·Ğ°Ğ´</button>
</div>

            <div class="tool-group">
                <h4>âœ¨ Effects</h4>
                <button onclick="wrapInBlock('luminous-cyan')">ğŸ’ Luminous Cyan</button>
                <button onclick="wrapInBlock('luminous-amber')">ğŸ”¥ Luminous Amber</button>
                <button onclick="addDetails()">â–¶ Hidden Text</button>
            </div>
            
            <div class="tool-group">
                <h4>ğŸ”¤ Font Size & Headers</h4>
                <button onclick="wrapInFontSize(60)" style="background: #f8f9fa; color: #495057;">60%</button>
                <button onclick="wrapInFontSize(75)" style="background: #f8f9fa; color: #495057;">75%</button>
                <button onclick="wrapInFontSize(90)" style="background: #f8f9fa; color: #495057;">90%</button>
                <button onclick="wrapInFontSize(110)" style="background: #e9ecef; color: #495057;">110%</button>
                <button onclick="wrapInFontSize(125)" style="background: #e9ecef; color: #495057;">125%</button>
                <button onclick="wrapInHeader(1)" style="background: #d1ecf1; color: #0c5460;"># H1</button>
                <button onclick="wrapInHeader(2)" style="background: #d1ecf1; color: #0c5460;">## H2</button>
                <button onclick="wrapInHeader(3)" style="background: #d1ecf1; color: #0c5460;">### H3</button>
                <button onclick="wrapInHeader(4)" style="background: #d1ecf1; color: #0c5460;">#### H4</button>
                <button onclick="wrapInHeader(5)" style="background: #d1ecf1; color: #0c5460;">##### H5</button>
                <button onclick="wrapInHeader(6)" style="background: #d1ecf1; color: #0c5460;">###### H6</button>
            </div>

            <div class="tool-group export-group">
                <h4>ğŸ’¾ Save</h4>
                <input type="text" id="export-filename" placeholder="chapter-01-starley.md">
                <button id="btn-download" class="btn-success">ğŸ“¤ Download .md file</button>
            </div>
        </aside>

        <main class="editor-main">
            <div class="pane-header">Markdown Source</div>
            <textarea id="markdown-input" placeholder="Text will appear here after loading or paste it manually..."></textarea>
        </main>

        <section class="editor-preview-pane">
            <div class="pane-header">Live Preview</div>
            <div id="editor-preview" class="content"></div>
        </section>
    </div>

    <script src="assets/js/config.js"></script>
    <script src="assets/js/editor.js"></script>
</body>
</html>
