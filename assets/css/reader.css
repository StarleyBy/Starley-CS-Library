:root {
/* Определение CSS переменных для удобства и повторного использования значений во всём документе. /
--header-height: 55px; / Высота заголовка (меню) для фиксации позиции контента ниже. /
--sidebar-width: 320px; / Ширина боковой панели (sidebar) на десктопах. /
--sidebar-transition: transform 0.3s ease-in-out; / Плавный переход для анимации показа/скрытия sidebar. /
--content-transition: margin-left 0.3s ease-in-out; / Плавный переход для сдвига основного контента при изменении sidebar. /
--border-color: #ddd; / Цвет границы, используемый в заголовке (добавил дефолт, если не определён ранее). /
--text-color: #333; / Цвет текста для кнопок и ссылок (добавил дефолт). */
}
.reader-body {
/* Основное тело читалки, отступ сверху для фиксированного заголовка. /
padding-top: var(--header-height); / Отступ, чтобы контент не перекрывался заголовком. /
transition: var(--content-transition); / Плавный сдвиг при изменении ширины. */
}
.reader-header {
/* Фиксированный заголовок (меню) вверху страницы. /
position: fixed; / Фиксирован на месте при скролле. /
top: 0;
left: 0;
width: 100%; / Занимает всю ширину экрана, чтобы избежать overflow. /
height: var(--header-height); / Высота из переменной. /
background: #fff; / Белый фон для видимости. /
border-bottom: 1px solid var(--border-color); / Граница снизу для разделения. /
box-shadow: 0 2px 5px rgba(0,0,0,0.05); / Лёгкая тень для глубины. /
z-index: 1000; / Выше других элементов. */
}
.header-content {
/* Контейнер внутри заголовка для размещения элементов меню. /
display: flex; / Flexbox для гибкого размещения. /
align-items: center; / Вертикальное центрирование элементов. /
justify-content: space-between; / Распределение пространства между элементами. /
padding: 0 1rem; / Отступы слева/справа для воздуха. /
height: 100%; / Полная высота заголовка. /
flex-wrap: wrap; / Добавлено: Перенос элементов на новую строку, если они не умещаются, чтобы избежать горизонтального скролла. /
box-sizing: border-box; / Добавлено: Включает padding в ширину, предотвращая overflow. /
overflow: hidden; / Добавлено: Скрывает любой возможный overflow. */
}
.header-btn, .nav-link {
/* Стили для кнопок и ссылок в заголовке. /
background: none; / Без фона по умолчанию. /
border: none; / Без границы. /
color: var(--text-color); / Цвет текста. /
font-size: 1.2rem; / Размер шрифта. /
cursor: pointer; / Курсор как рука для кликабельности. /
padding: 0.5rem; / Отступы внутри. /
border-radius: 5px; / Скруглённые углы. /
transition: background 0.2s, color 0.2s; / Плавные изменения при hover. /
display: flex; / Flex для выравнивания иконки и текста. /
align-items: center; / Центрирование. /
gap: 0.5rem; / Промежуток между иконкой и текстом. /
text-decoration: none; / Без подчёркивания для ссылок. */
}
.header-btn:hover, .nav-link:hover {
/* Hover-эффект для кнопок и ссылок. /
background: #f0f0f0; / Светлый фон при наведении. */
}
.nav-link .nav-text {
/* Текст в навигационных ссылках. /
font-size: 1rem; / Размер шрифта. /
font-weight: 500; / Полужирный. */
}
#version-selector-container {
/* Контейнер для селектора версий (изданий). /
flex-grow: 1; / Занимает доступное пространство. /
display: flex; / Flex для центрирования. /
justify-content: center; / Центрирование внутри. /
position: relative; / Для позиционирования дропдауна. */
}
.custom-select-wrapper {
/* Обёртка для кастомного селекта. /
position: relative; / Для дропдауна. /
width: 200px; / Фиксированная ширина (уменьшим на мобильных). /
cursor: pointer; / Курсор как рука. */
}
.custom-select-header {
/* Заголовок кастомного селекта. /
display: flex; / Flex для размещения. /
justify-content: space-between; / Распределение. /
align-items: center; / Центрирование. /
padding: 0.5rem 1rem; / Отступы. /
background: #f5f5f5; / Светлый фон. */
}
/* --- Sidebar Styles --- /
/ Стили для боковой панели (sidebar). /
.sidebar {
/ Боковая панель. /
position: fixed; / Фиксирована слева. /
top: var(--header-height); / Ниже заголовка. /
left: 0;
width: var(--sidebar-width); / Ширина из переменной. /
height: calc(100vh - var(--header-height)); / Полная высота минус заголовок. /
background: #f8f9fa; / Светлый фон. /
border-right: 1px solid var(--border-color); / Граница справа. /
overflow-y: auto; / Скролл, если контент длинный. /
transition: var(--sidebar-transition); / Плавный сдвиг. /
transform: translateX(0); / По умолчанию видна. /
z-index: 999; / Ниже заголовка, но выше контента. */
}
.sidebar.collapsed {
/* Состояние скрытой sidebar. /
transform: translateX(-100%); / Сдвиг влево за экран. */
}
#main-content {
/* Основной контент. /
margin-left: var(--sidebar-width); / Сдвиг вправо для sidebar. /
width: calc(100% - var(--sidebar-width)); / Ширина минус sidebar. /
padding: 2rem; / Отступы. /
transition: var(--content-transition); / Плавный сдвиг. */
}
#main-content.full-width {
/* Полная ширина, когда sidebar скрыта. /
margin-left: 0; / Без сдвига. /
width: 100%; / Полная ширина. */
}
/* --- Focus Mode --- /
/ Режим фокуса: скрывает отвлекающие элементы для чтения. /
body.focus-mode .sidebar,
body.focus-mode .main-nav,
body.focus-mode #version-selector-container,
body.focus-mode #toc-toggle {
/ Скрытие элементов в фокус-режиме. /
display: none; / Невидимы. */
}
body.focus-mode .reader-header {
/* Заголовок в фокус-режиме. /
background: transparent; / Прозрачный. /
border-bottom: none; / Без границы. /
box-shadow: none; / Без тени. */
}
body.focus-mode #main-content {
/* Контент в фокус-режиме. /
margin-left: 0; / Без сдвига. /
width: 100%; / Полная ширина. /
padding: 2rem; / Отступы. */
}
body.focus-mode {
/* Тело в фокус-режиме. /
padding-top: 0; / Без отступа сверху, так как заголовок прозрачный. */
}
#focus-toggle {
/* Кнопка переключения фокус-режима. /
z-index: 1001; / Выше заголовка. */
}
body.focus-mode #focus-toggle {
/* Кнопка в фокус-режиме. /
position: fixed; / Фиксирована. /
top: 1rem; / Отступ сверху. /
right: 1rem; / Справа. /
background: rgba(255, 255, 255, 0.7); / Полупрозрачный фон. /
backdrop-filter: blur(5px); / Размытие для стиля. /
z-index: 2000; / Добавлено: Высокий z-index, чтобы быть поверх всего. */
}
#focus-toggle .fa-compress {
/* Иконка выхода из фокуса (по умолчанию скрыта). */
display: none;
}
body.focus-mode #focus-toggle .fa-expand {
/* Иконка входа в фокус (скрыта в режиме). */
display: none;
}
body.focus-mode #focus-toggle .fa-compress {
/* Иконка выхода видна в режиме. */
display: block;
}
/* Content styles /
/ Стили для основного контента чтения. /
.content {
/ Контейнер контента. /
max-width: 800px; / Максимальная ширина для читаемости. /
margin: 0 auto; / Центрирование. /
background: #fff; / Белый фон. /
padding: 2rem; / Отступы внутри. /
border-radius: 8px; / Скруглённые углы. /
box-shadow: 0 0 20px rgba(0,0,0,0.05); / Лёгкая тень. */
}
.med-img {
/* Стили для медицинских изображений (добавлено ранее для оптимизации). /
max-width: 100%; / Не выходит за контейнер. /
height: auto; / Сохраняет пропорции. /
display: block; / Как блок для центрирования. /
margin: 1rem auto; / Отступы и центрирование. */
}
/* Media Queries /
/ Адаптация для мобильных устройств (экраны до 768px). /
@media (max-width: 768px) {
.sidebar {
/ Sidebar на мобильных: по умолчанию скрыта. /
transform: translateX(-100%); / Сдвинута влево. /
}
.sidebar.collapsed {
/ То же для collapsed. /
transform: translateX(-100%);
}
.sidebar.open {
/ При открытии: видна, ширина 85%. /
transform: translateX(0);
width: 85%; / Адаптированная ширина для мобильных. /
}
#main-content {
/ Контент на мобильных: полная ширина. /
margin-left: 0;
width: 100%;
}
.nav-text {
/ Текст в навигации: скрыт для компактности. */
display: none;
}
/* Добавленные стили для компактности меню на мобильных. /
.header-content {
justify-content: center; / Центрирование элементов. /
flex-direction: column; / Стек vertically для узких экранов, чтобы избежать overflow. /
padding: 0.5rem; / Уменьшенные отступы. */
}
.custom-select-wrapper {
width: 100%; /* Полная ширина для селекта. /
max-width: none; / Без максимума. /
margin-bottom: 0.5rem; / Отступ снизу. */
}
.header-btn, .nav-link {
font-size: 1rem; /* Уменьшенный шрифт. /
padding: 0.3rem; / Компактные отступы. */
}
body.focus-mode #focus-toggle {
/* Кнопка фокуса на мобильных: внизу по центру. /
top: auto; / Не сверху. /
bottom: 2rem; / Снизу. /
right: 50%; / Справа 50%. /
transform: translateX(50%); / Центрирование. */
}
}
