/* Общая структура */
.editor-shell { display: flex; height: 100vh; overflow: hidden; background: #1e1e1e; color: #eee; }
.editor-toolbar { width: 280px; background: #252526; padding: 15px; overflow-y: auto; border-right: 1px solid #333; }
.editor-main, .editor-preview-pane { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.pane-header { background: #333; padding: 5px 15px; font-size: 0.8rem; text-transform: uppercase; color: #aaa; }

/* Поле ввода */
#markdown-input { 
    flex: 1; background: #1e1e1e; color: #d4d4d4; padding: 20px; 
    font-family: 'Fira Code', 'Courier New', monospace; font-size: 14px;
    border: none; resize: none; line-height: 1.5; outline: none;
}

/* Область превью */
#editor-preview { flex: 1; background: white; color: #333; padding: 30px; overflow-y: auto; }

/* Инструменты */
.tool-group { margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #333; }
.tool-group h4 { margin-bottom: 10px; font-size: 0.9rem; color: #3498db; }
.tool-group button { 
    width: 100%; text-align: left; padding: 6px 10px; margin: 2px 0; 
    background: #3c3c3c; color: #ccc; border: 1px solid #555; cursor: pointer; border-radius: 4px;
}
.tool-group button:hover { background: #505050; }

/* Сетка цветов */
.color-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 4px; }
.color-dot { width: 24px; height: 24px; border-radius: 4px; cursor: pointer; border: 1px solid rgba(255,255,255,0.2); }
.color-dot:hover { transform: scale(1.2); }

/* Кнопки действий */
.btn-primary { background: #007acc !important; color: white !important; font-weight: bold; margin-top: 5px !important; }
.btn-success { background: #28a745 !important; color: white !important; font-weight: bold; }
.loader-group select { width: 100%; margin-bottom: 5px; background: #3c3c3c; color: white; border: 1px solid #555; padding: 4px; }
#export-filename { width: 100%; background: #3c3c3c; border: 1px solid #555; color: white; padding: 6px; margin-bottom: 5px; border-radius: 4px; }

/* ==================== PREVIEW STYLES ==================== */

/* Маркеры */
#editor-preview mark.m-red { background-color: #ffe6e6; }
#editor-preview mark.m-blue { background-color: #e6f3ff; }
#editor-preview mark.m-green { background-color: #e6ffe6; }
#editor-preview mark.m-gold { background-color: #fff9e6; }
#editor-preview mark.m-purple { background-color: #f3e6ff; }
#editor-preview mark.m-orange { background-color: #ffe9e6; }
#editor-preview mark.m-teal { background-color: #e6fffa; }
#editor-preview mark.m-pink { background-color: #ffe6f0; }
#editor-preview mark.m-indigo { background-color: #eae6ff; }
#editor-preview mark.m-lime { background-color: #f0ffe6; }
#editor-preview mark.m-brown { background-color: #f5efe6; }
#editor-preview mark.m-grey { background-color: #f0f0f0; }

/* Овалы (цветные рамки) */
#editor-preview .oval { padding: 2px 8px; border-radius: 12px; display: inline-block; border: 2px solid; }
#editor-preview .oval.ov-red { border-color: #e74c3c; background-color: #ffe6e6; }
#editor-preview .oval.ov-blue { border-color: #3498db; background-color: #e6f3ff; }
#editor-preview .oval.ov-green { border-color: #2ecc71; background-color: #e6ffe6; }
#editor-preview .oval.ov-gold { border-color: #f1c40f; background-color: #fff9e6; }
#editor-preview .oval.ov-purple { border-color: #9b59b6; background-color: #f3e6ff; }
#editor-preview .oval.ov-orange { border-color: #e67e22; background-color: #ffe9e6; }
#editor-preview .oval.ov-teal { border-color: #1abc9c; background-color: #e6fffa; }
#editor-preview .oval.ov-pink { border-color: #fd79a8; background-color: #ffe6f0; }
#editor-preview .oval.ov-indigo { border-color: #6c5ce7; background-color: #eae6ff; }
#editor-preview .oval.ov-lime { border-color: #badc58; background-color: #f0ffe6; }
#editor-preview .oval.ov-brown { border-color: #a0522d; background-color: #f5efe6; }
#editor-preview .oval.ov-grey { border-color: #95a5a6; background-color: #f0f0f0; }

/* Цветной текст */
#editor-preview .t-red { color: #e74c3c; }
#editor-preview .t-blue { color: #3498db; }
#editor-preview .t-green { color: #2ecc71; }
#editor-preview .t-gold { color: #f1c40f; }
#editor-preview .t-purple { color: #9b59b6; }
#editor-preview .t-orange { color: #e67e22; }
#editor-preview .t-teal { color: #1abc9c; }
#editor-preview .t-pink { color: #fd79a8; }
#editor-preview .t-indigo { color: #6c5ce7; }
#editor-preview .t-lime { color: #badc58; }
#editor-preview .t-brown { color: #a0522d; }
#editor-preview .t-grey { color: #95a5a6; }

/* Медицинские блоки */
#editor-preview .med-note {
    margin: 15px 0;
    padding: 12px 15px;
    border-left: 4px solid;
    border-radius: 4px;
}

#editor-preview .note-dosage { background: #fff3e0; border-color: #ff6f00; }
#editor-preview .note-anatomy { background: #fce4ec; border-color: #c2185b; }
#editor-preview .note-surgery { background: #e8f5e9; border-color: #2e7d32; }
#editor-preview .note-pharmacy { background: #e3f2fd; border-color: #1565c0; }
#editor-preview .note-physio { background: #f3e5f5; border-color: #6a1b9a; }
#editor-preview .note-fact { background: #fff9c4; border-color: #f57f17; }
#editor-preview .note-treatment { background: #e0f2f1; border-color: #00695c; }
#editor-preview .note-icu { background: #ffebee; border-color: #c62828; }
#editor-preview .note-nb { background: #fff3e0; border-color: #e65100; font-weight: bold; }

/* Скрываемые блоки */
#editor-preview .med-details summary {
    cursor: pointer;
    font-weight: bold;
    padding: 8px;
    background: #f5f5f5;
    border-radius: 4px;
}
#editor-preview .med-details .details-content {
    padding: 10px;
    margin-top: 5px;
}

/* ==================== ENHANCED STYLES FROM REDACT.HTML ==================== */

/* 1. OVAL HIGHLIGHTS WITH 3D GRADIENT EFFECT */
#editor-preview .oval {
    padding: 3px 12px;
    border-radius: 20px;
    font-weight: 500;
    display: inline-block;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

/* Gradient oval styles - MUCH MORE VIBRANT */
#editor-preview .oval.ov-gold,
#editor-preview .gold-highlighted-oval-3d {
    background: linear-gradient(135deg, #f7971e 0%, #ffd200 100%);
    color: #333;
    box-shadow: 0 4px 6px rgba(247, 151, 30, 0.3);
    border: none;
}

#editor-preview .oval.ov-green,
#editor-preview .green-highlighted-oval-3d {
    background: linear-gradient(135deg, #a8e063 0%, #56ab2f 100%);
    color: white;
    box-shadow: 0 4px 6px rgba(86, 171, 47, 0.3);
    border: none;
}

#editor-preview .oval.ov-blue,
#editor-preview .blue-highlighted-oval-3d {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    box-shadow: 0 4px 6px rgba(102, 126, 234, 0.3);
    border: none;
}

#editor-preview .oval.ov-red,
#editor-preview .red-highlighted-oval-3d {
    background: linear-gradient(135deg, #f85032 0%, #e73827 100%);
    color: white;
    box-shadow: 0 4px 6px rgba(248, 80, 50, 0.3);
    border: none;
}

#editor-preview .oval.ov-pink,
#editor-preview .pink-highlighted-oval-3d {
    background: linear-gradient(135deg, #ff6ec7 0%, #ff1f8f 100%);
    color: white;
    box-shadow: 0 4px 6px rgba(255, 110, 199, 0.3);
    border: none;
}

#editor-preview .oval.ov-purple,
#editor-preview .purple-highlighted-oval-3d {
    background: linear-gradient(135deg, #9d50bb 0%, #6e48aa 100%);
    color: white;
    box-shadow: 0 4px 6px rgba(157, 80, 187, 0.3);
    border: none;
}

#editor-preview .oval.ov-teal,
#editor-preview .teal-highlighted-oval-3d {
    background: linear-gradient(135deg, #38ef7d 0%, #11998e 100%);
    color: white;
    box-shadow: 0 4px 6px rgba(56, 239, 125, 0.3);
    border: none;
}

#editor-preview .oval.ov-orange,
#editor-preview .orange-highlighted-oval-3d {
    background: linear-gradient(135deg, #fa8c16 0%, #ff6b35 100%);
    color: white;
    box-shadow: 0 4px 6px rgba(250, 140, 22, 0.3);
    border: none;
}

#editor-preview .oval.ov-yellow,
#editor-preview .yellow-highlighted-oval-3d {
    background: linear-gradient(135deg, #f9d423 0%, #f5b700 100%);
    color: #333;
    box-shadow: 0 4px 6px rgba(249, 212, 35, 0.3);
    border: none;
}

#editor-preview .oval.ov-grey,
#editor-preview .oval.ov-silver,
#editor-preview .silver-highlighted-oval-3d {
    background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
    color: #333;
    box-shadow: 0 4px 6px rgba(189, 195, 199, 0.3);
    border: none;
}

/* 2. BRIGHTER MARKERS */
#editor-preview mark.m-green,
#editor-preview .marker-green {
    background-color: #27ae60;
    color: white;
    padding: 2px 5px;
    border-radius: 3px;
}

#editor-preview mark.m-blue,
#editor-preview .marker-blue {
    background-color: #3498db;
    color: white;
    padding: 2px 5px;
    border-radius: 3px;
}

#editor-preview mark.m-red,
#editor-preview .marker-red {
    background-color: #e74c3c;
    color: white;
    padding: 2px 5px;
    border-radius: 3px;
}

#editor-preview mark.m-purple,
#editor-preview .marker-purple {
    background-color: #8e44ad;
    color: white;
    padding: 2px 5px;
    border-radius: 3px;
}

#editor-preview mark.m-yellow,
#editor-preview .marker-yellow {
    background-color: #f1c40f;
    color: #333;
    padding: 2px 5px;
    border-radius: 3px;
    font-weight: 500;
}

#editor-preview mark.m-teal,
#editor-preview .marker-cyan {
    background-color: #1abc9c;
    color: white;
    padding: 2px 5px;
    border-radius: 3px;
}

#editor-preview mark.m-pink,
#editor-preview .marker-pink {
    background-color: #ff85a2;
    color: white;
    padding: 2px 5px;
    border-radius: 3px;
}

/* 3. LUMINOUS BLOCKS WITH GLOW */
#editor-preview .luminous-block {
    display: inline-block;
    padding: 4px 12px;
    margin: 0 3px;
    border-radius: 4px;
    font-weight: 600;
    box-shadow: 0 0 10px currentColor;
}

#editor-preview .luminous-blue {
    background: rgba(33, 150, 243, 0.2);
    color: #2196f3;
}

#editor-preview .luminous-green {
    background: rgba(76, 175, 80, 0.2);
    color: #4caf50;
}

#editor-preview .luminous-red {
    background: rgba(244, 67, 54, 0.2);
    color: #f44336;
}

#editor-preview .luminous-yellow {
    background: rgba(255, 235, 59, 0.3);
    color: #f57f17;
}

#editor-preview .luminous-purple {
    background: rgba(156, 39, 176, 0.2);
    color: #9c27b0;
}

/* 4. CYBER EFFECTS */
#editor-preview .cyber-glitch {
    position: relative;
    display: inline-block;
    font-weight: bold;
    color: #ff0000;
    animation: glitch 1s infinite;
}

@keyframes glitch {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
}

#editor-preview .cyber-neon {
    display: inline-block;
    padding: 5px 15px;
    font-weight: bold;
    text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
    animation: neon-pulse 2s infinite;
}

@keyframes neon-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

#editor-preview .cyber-neon-pink { color: #ff1f8f; }
#editor-preview .cyber-neon-blue { color: #00d9ff; }
#editor-preview .cyber-neon-green { color: #39ff14; }
#editor-preview .cyber-neon-yellow { color: #ffff00; }

/* 5. INFO BOXES */
#editor-preview .info-box {
    background: #ffeaa7;
    border-left: 4px solid #fdcb6e;
    padding: 15px 20px;
    margin: 15px 0;
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

#editor-preview .info-box-info {
    background: #e3f2fd;
    border-left-color: #2196f3;
}

#editor-preview .info-box-success {
    background: #e8f5e9;
    border-left-color: #4caf50;
}

#editor-preview .info-box-warning {
    background: #fff3cd;
    border-left-color: #ff9800;
}

#editor-preview .info-box-danger {
    background: #ffebee;
    border-left-color: #f44336;
}
